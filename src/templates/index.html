<!DOCTYPE html>
<html lang="en">
<head>
 <title>Storyteller</title>
 <meta charset="utf-8">
 <meta name="viewport" content="width=device-width, initial-scale=1">
 <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.4.1/css/bootstrap.min.css">

 <style>
  body {
    display: flex;
    flex-direction: column;
    height: 100vh;
    width: 100vw;
    margin: 0;
  }
  .top-container, .bottom-container {
    display: flex;
    justify-content: center;
    flex-grow: 1;
  }
  .element {
    width: 100vw;
    height: auto; 
    margin: 2vh;
    padding: 2vh;
    background-color:#edf2ef;
    display: flex;
    justify-content: center;
    align-items: center;
    color: white;
    font-size: 14px;
    border: 0.3vh dashed #b7edcb;
    border-radius: 2vh;
    color: black;
  }
  .bottom-container {
    height: auto;
    width: 94.333333333333vw; 
    margin: 0 auto; 
  }

  .custom-file-upload {
    display: inline-block;
    padding: 2vh 2vw;
    cursor: pointer;
    background-color: #4CAF50; 
    color: white; 
    border: none; 
    border-radius: 4px; 
    text-align: center; 
}

.custom-file-upload:hover {
    background-color: #45a049;
}

#loadingOverlay {
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: rgba(128, 128, 128, 0.5);
  display: flex;
  justify-content: center;
  align-items: center;
  z-index: 1000; 
}

.loading-sign {
  font-size: 2em;
  color: white;
}

</style>

</head>
<body>




<div class="top-container">
  <div class="element" style=" width: 45vw; height: 45vh;">
    <form method="POST" enctype="multipart/form-data" id ="myForm">
      <input type="file" id="video_input" name="video_input" style="display:none;">
    <label for="video_input" class="custom-file-upload" id="autol">Choose File</label>
    <input id="hidden" type="submit" class="custom-file-upload" style="display:none;">

    </form>
  </div>
  <div class="element" style=" width: 45vw; height: 45vh;">
    <img src="{{img_place}}" alt="Paste a video first..." style="max-height: 20vw; width: auto; border-radius:2vh">
   
  </div>
</div>

<div class="bottom-container">
  <div class="element"> <div id="result">{{result}}</div></div>
</div>


<div id="loadingOverlay" style="display: none;">
  <div class="loading-sign">Loading...</div>
</div>


</body>
</html>

<script>

  document.addEventListener('DOMContentLoaded', function() {
    var videoInput = document.getElementById('video_input');

    videoInput.addEventListener('change', function() {

      document.getElementById('hidden').click();
      document.getElementById('result').textContent = "Pending...";
    });
});

function showLoadingOverlay() {
  document.getElementById('loadingOverlay').style.display = 'flex';
}

function hideLoadingOverlay() {
  document.getElementById('loadingOverlay').style.display = 'none';
}

</script>